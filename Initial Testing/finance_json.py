import urllib
import json
import re

htmlfile = urllib.urlopen("http://www.bloomberg.com/markets/chart/data/id/AAPL:US")

#htmltext = htmlfile.read()

#<path class="panel__filling_price" d="M0,16.290909090908823L8.19047619047619,52.94545454545586L16.38095238095238,79.62181818181968L24.57142857142857,137.45454545454558L32.76190476190476,93.67272727272936L40.95238095238095,197.52727272727353L49.14285714285714,216.70981818181923L57.33333333333333,203.6363636363647L65.52380952380952,211.78181818182054L73.71428571428571,193.45454545454703L81.9047619047619,172.07272727272795L90.0952380952381,169.01818181818234L98.28571428571428,183.27272727272938L106.47619047619048,209.74545454545586L114.66666666666666,199.36000000000087L122.85714285714286,205.67272727272936L131.04761904761904,197.52727272727353L139.23809523809524,193.45454545454703L147.42857142857142,149.6727272727279L155.61904761904762,114.0363636363647L163.8095238095238,51.92727272727497L172,48.03781818181861L180.1904761904762,40.93090909091086L188.3809523809524,16.290909090908823L196.57142857142856,38.792727272727504L204.76190476190476,46.83636363636468L212.95238095238096,22.399999999999995L221.14285714285717,50.90909090909116L229.33333333333331,75.14181818181854L237.52380952380952,46.83636363636468L245.71428571428572,59.054545454547025L253.90476190476193,67.17963636363858L262.0952380952381,65.1636363636382L270.2857142857143,89.60000000000001L278.4761904761905,94.69090909091028L286.6666666666667,81.78036363636447L294.85714285714283,69.23636363636467L303.04761904761904,49.89090909091027L311.23809523809524,56.99781818181804L319.42857142857144,65.1636363636382L327.6190476190476,54.981818181817665L335.8095238095238,93.67272727272936L344,102.59200000000017L352.19047619047615,145.8036363636388L360.3809523809524,140.28509090909242L368.57142857142856,155.53745454545603L376.7619047619048,160.87272727272938L384.95238095238096,144.58181818182055L393.1428571428571,142.74909090909318L401.33333333333337,144.58181818182055L409.5238095238095,136.4363636363647L417.71428571428567,126.25454545454704L425.9047619047619,144.58181818182055L434.0952380952381,152.72727272727352L442.28571428571433,145.60000000000144L450.4761904761905,101.81818181818235L458.66666666666663,100.53527272727406L466.8571428571429,95.70909090909117L475.04761904761904,97.74545454545587L483.2380952380952,56.71272727272924L491.42857142857144,61.09090909090884L499.6190476190476,61.09090909090884L507.80952380952385,42.763636363638206L516,67.20000000000002L524.1904761904761,63.12727272727351L532.3809523809524,67.22036363636431L540.5714285714286,59.054545454547025L548.7619047619048,36.63418181818271L556.952380952381,16.290909090908823L565.1428571428571,19.34545454545441L573.3333333333334,12.218181818182345L581.5238095238095,40.727272727273515L589.7142857142857,91.6363636363647L597.9047619047619,86.54545454545442L606.0952380952381,69.23636363636467L614.2857142857143,45.614545454546445L622.4761904761905,60.07272727272792L630.6666666666666,42.763636363638206L655.2380952380952,42.763636363638206L679.8095238095239,42.763636363638206L679.8095238095239,244L655.2380952380952,244L630.6666666666666,244L622.4761904761905,244L614.2857142857143,244L606.0952380952381,244L597.9047619047619,244L589.7142857142857,244L581.5238095238095,244L573.3333333333334,244L565.1428571428571,244L556.952380952381,244L548.7619047619048,244L540.5714285714286,244L532.3809523809524,244L524.1904761904761,244L516,244L507.80952380952385,244L499.6190476190476,244L491.42857142857144,244L483.2380952380952,244L475.04761904761904,244L466.8571428571429,244L458.66666666666663,244L450.4761904761905,244L442.28571428571433,244L434.0952380952381,244L425.9047619047619,244L417.71428571428567,244L409.5238095238095,244L401.33333333333337,244L393.1428571428571,244L384.95238095238096,244L376.7619047619048,244L368.57142857142856,244L360.3809523809524,244L352.19047619047615,244L344,244L335.8095238095238,244L327.6190476190476,244L319.42857142857144,244L311.23809523809524,244L303.04761904761904,244L294.85714285714283,244L286.6666666666667,244L278.4761904761905,244L270.2857142857143,244L262.0952380952381,244L253.90476190476193,244L245.71428571428572,244L237.52380952380952,244L229.33333333333331,244L221.14285714285717,244L212.95238095238096,244L204.76190476190476,244L196.57142857142856,244L188.3809523809524,244L180.1904761904762,244L172,244L163.8095238095238,244L155.61904761904762,244L147.42857142857142,244L139.23809523809524,244L131.04761904761904,244L122.85714285714286,244L114.66666666666666,244L106.47619047619048,244L98.28571428571428,244L90.0952380952381,244L81.9047619047619,244L73.71428571428571,244L65.52380952380952,244L57.33333333333333,244L49.14285714285714,244L40.95238095238095,244L32.76190476190476,244L24.57142857142857,244L16.38095238095238,244L8.19047619047619,244L0,244Z" transform="translate(0, 56)"></path>

#read() should not be there to json to understand

#regex ='<path d="M0,16.290909090908823L8.19047619047619,52.94545454545586L16.38095238095238,79.62181818181968L24.57142857142857,137.45454545454558L32.76190476190476,93.67272727272936L40.95238095238095,197.52727272727353L49.14285714285714,216.70981818181923L57.33333333333333,203.6363636363647L65.52380952380952,211.78181818182054L73.71428571428571,193.45454545454703L81.9047619047619,172.07272727272795L90.0952380952381,169.01818181818234L98.28571428571428,183.27272727272938L106.47619047619048,209.74545454545586L114.66666666666666,199.36000000000087L122.85714285714286,205.67272727272936L131.04761904761904,197.52727272727353L139.23809523809524,193.45454545454703L147.42857142857142,149.6727272727279L155.61904761904762,114.0363636363647L163.8095238095238,51.92727272727497L172,48.03781818181861L180.1904761904762,40.93090909091086L188.3809523809524,16.290909090908823L196.57142857142856,38.792727272727504L204.76190476190476,46.83636363636468L212.95238095238096,22.399999999999995L221.14285714285717,50.90909090909116L229.33333333333331,75.14181818181854L237.52380952380952,46.83636363636468L245.71428571428572,59.054545454547025L253.90476190476193,67.17963636363858L262.0952380952381,65.1636363636382L270.2857142857143,89.60000000000001L278.4761904761905,94.69090909091028L286.6666666666667,81.78036363636447L294.85714285714283,69.23636363636467L303.04761904761904,49.89090909091027L311.23809523809524,56.99781818181804L319.42857142857144,65.1636363636382L327.6190476190476,54.981818181817665L335.8095238095238,93.67272727272936L344,102.59200000000017L352.19047619047615,145.8036363636388L360.3809523809524,140.28509090909242L368.57142857142856,155.53745454545603L376.7619047619048,160.87272727272938L384.95238095238096,144.58181818182055L393.1428571428571,142.74909090909318L401.33333333333337,144.58181818182055L409.5238095238095,136.4363636363647L417.71428571428567,126.25454545454704L425.9047619047619,144.58181818182055L434.0952380952381,152.72727272727352L442.28571428571433,145.60000000000144L450.4761904761905,101.81818181818235L458.66666666666663,100.53527272727406L466.8571428571429,95.70909090909117L475.04761904761904,97.74545454545587L483.2380952380952,56.71272727272924L491.42857142857144,61.09090909090884L499.6190476190476,61.09090909090884L507.80952380952385,42.763636363638206L516,67.20000000000002L524.1904761904761,63.12727272727351L532.3809523809524,67.22036363636431L540.5714285714286,59.054545454547025L548.7619047619048,36.63418181818271L556.952380952381,16.290909090908823L565.1428571428571,19.34545454545441L573.3333333333334,12.218181818182345L581.5238095238095,40.727272727273515L589.7142857142857,91.6363636363647L597.9047619047619,86.54545454545442L606.0952380952381,69.23636363636467L614.2857142857143,45.614545454546445L622.4761904761905,60.07272727272792L630.6666666666666,42.763636363638206L655.2380952380952,42.763636363638206L679.8095238095239,42.763636363638206L679.8095238095239,244L655.2380952380952,244L630.6666666666666,244L622.4761904761905,244L614.2857142857143,244L606.0952380952381,244L597.9047619047619,244L589.7142857142857,244L581.5238095238095,244L573.3333333333334,244L565.1428571428571,244L556.952380952381,244L548.7619047619048,244L540.5714285714286,244L532.3809523809524,244L524.1904761904761,244L516,244L507.80952380952385,244L499.6190476190476,244L491.42857142857144,244L483.2380952380952,244L475.04761904761904,244L466.8571428571429,244L458.66666666666663,244L450.4761904761905,244L442.28571428571433,244L434.0952380952381,244L425.9047619047619,244L417.71428571428567,244L409.5238095238095,244L401.33333333333337,244L393.1428571428571,244L384.95238095238096,244L376.7619047619048,244L368.57142857142856,244L360.3809523809524,244L352.19047619047615,244L344,244L335.8095238095238,244L327.6190476190476,244L319.42857142857144,244L311.23809523809524,244L303.04761904761904,244L294.85714285714283,244L286.6666666666667,244L278.4761904761905,244L270.2857142857143,244L262.0952380952381,244L253.90476190476193,244L245.71428571428572,244L237.52380952380952,244L229.33333333333331,244L221.14285714285717,244L212.95238095238096,244L204.76190476190476,244L196.57142857142856,244L188.3809523809524,244L180.1904761904762,244L172,244L163.8095238095238,244L155.61904761904762,244L147.42857142857142,244L139.23809523809524,244L131.04761904761904,244L122.85714285714286,244L114.66666666666666,244L106.47619047619048,244L98.28571428571428,244L90.0952380952381,244L81.9047619047619,244L73.71428571428571,244L65.52380952380952,244L57.33333333333333,244L49.14285714285714,244L40.95238095238095,244L32.76190476190476,244L24.57142857142857,244L16.38095238095238,244L8.19047619047619,244L0,244Z" transform="translate(0, 56)"></path>'
data = json.load(htmlfile)

print data["last_price"]
